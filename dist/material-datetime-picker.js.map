{"version":3,"file":"material-datetime-picker.js","sources":["../lib/template/datepicker.template.js","../lib/template/scrim.template.js","../lib/js/events.js","../lib/js/index.js"],"sourcesContent":["export default () => `\n<div class=\"c-datepicker\">\n  <input class=\"c-datepicker__toggle c-datepicker__toggle--right c-datepicker--show-time\" type=\"radio\" name=\"date-toggle\" value=\"time\" >\n\n  <input class=\"c-datepicker__toggle c-datepicker__toggle--left  c-datepicker--show-calendar\" type=\"radio\" name=\"date-toggle\" value=\"calendar\" checked>\n\n  <div class=\"c-datepicker__header\">\n    <div class=\"c-datepicker__header-day\">\n      <span class=\"js-day\">Monday</span>\n    </div>\n    <div class=\"c-datepicker__header-date\">\n      <span class=\"c-datepicker__header-date__month js-date-month\">Jan 2015</span>\n      <span class=\"c-datepicker__header-date__day js-date-day\">10th</span>\n      <span class=\"c-datepicker__header-date__time js-date-time\">\n        <span class=\"c-datepicker__header-date__hours js-date-hours\">09</span>:<span class=\"c-datepicker__header-date__minutes js-date-minutes\">00</span>\n      </span>\n    </div>\n  </div>\n\n  <div class=\"c-datepicker__calendar\"></div>\n  <div class=\"c-datepicker__clock\">\n    <div class=\"c-datepicker__clock__am-pm-toggle\">\n      <label class=\"c-datepicker__toggle--checked\">\n        <input checked=\"checked\" class=\"c-datepicker__toggle c-datepicker__toggle--right c-datepicker__clock--am\" type=\"radio\" name=\"time-date-toggle\" value=\"AM\" />\n        AM\n      </label>\n\n      <label>\n        <input class=\"c-datepicker__toggle c-datepicker__toggle--right c-datepicker__clock--pm\" type=\"radio\" name=\"time-date-toggle\" value=\"PM\" />\n        PM\n      </label>\n    </div>\n\n    <div class=\"c-datepicker__clock__hours\">\n      <div class=\"c-datepicker__clock__num\" data-number=\"3\">3</div>\n      <div class=\"c-datepicker__clock__num\" data-number=\"4\">4</div>\n      <div class=\"c-datepicker__clock__num\" data-number=\"5\">5</div>\n      <div class=\"c-datepicker__clock__num\" data-number=\"6\">6</div>\n      <div class=\"c-datepicker__clock__num\" data-number=\"7\">7</div>\n      <div class=\"c-datepicker__clock__num\" data-number=\"8\">8</div>\n      <div class=\"c-datepicker__clock__num\" data-number=\"9\">9</div>\n      <div class=\"c-datepicker__clock__num\" data-number=\"10\">10</div>\n      <div class=\"c-datepicker__clock__num\" data-number=\"11\">11</div>\n      <div class=\"c-datepicker__clock__num\" data-number=\"0\">12</div>\n      <div class=\"c-datepicker__clock__num\" data-number=\"1\">1</div>\n      <div class=\"c-datepicker__clock__num\" data-number=\"2\">2</div>\n      <div class=\"c-datepicker__clock-hands\">\n        <div class=\"c-datepicker__hour-hand\"></div>\n      </div>\n    </div>\n    <div class=\"c-datepicker__clock__minutes\">\n      <div class=\"c-datepicker__clock__num\" data-number=\"15\">15</div>\n      <div class=\"c-datepicker__clock__num\" data-number=\"20\">20</div>\n      <div class=\"c-datepicker__clock__num\" data-number=\"25\">25</div>\n      <div class=\"c-datepicker__clock__num\" data-number=\"30\">30</div>\n      <div class=\"c-datepicker__clock__num\" data-number=\"35\">35</div>\n      <div class=\"c-datepicker__clock__num\" data-number=\"40\">40</div>\n      <div class=\"c-datepicker__clock__num\" data-number=\"45\">45</div>\n      <div class=\"c-datepicker__clock__num\" data-number=\"50\">50</div>\n      <div class=\"c-datepicker__clock__num\" data-number=\"55\">55</div>\n      <div class=\"c-datepicker__clock__num\" data-number=\"0\">0</div>\n      <div class=\"c-datepicker__clock__num\" data-number=\"5\">5</div>\n      <div class=\"c-datepicker__clock__num\" data-number=\"10\">10</div>\n      <div class=\"c-datepicker__clock-hands\">\n        <div class=\"c-datepicker__hour-hand\"></div>\n      </div>\n    </div>\n  </div>\n  <div class=\"modal-btns\">\n    <a class=\"c-btn c-btn--flat js-cancel\">Cancel</a>\n    <a class=\"c-btn c-btn--flat js-ok\">OK</a>\n  </div>\n</div>\n`;","export default ({ styles }) => `\n<div class=\"${styles.scrim}\"></div>\n`;","//\n// basic event triggering and listening\n//\nexport default class Events {\n  constructor() {\n    this._events = {\n      '*': []\n    };\n  }\n\n  trigger(eventName, evtData) {\n    eventName.split(' ').forEach(evtName => {\n      // trigger a global event event\n      this._events['*'].forEach(evt => evt.fn.call(evt.scope, evtName, evtData));\n      // if there are any listeners to this event\n      // then fire their handlers\n      if (this._events[evtName]) {\n        this._events[evtName].forEach(evt => {\n          evt.fn.call(evt.scope, evtData);\n        });\n      }\n    });\n    return this;\n  }\n\n  on(eventName, fn, scope) {\n    if (!this._events[eventName]) this._events[eventName] = [];\n    this._events[eventName].push({\n      eventName,\n      fn,\n      scope: scope || this\n    });\n    return this;\n  }\n\n  off(eventName, fn) {\n    if (!this._events[eventName]) return this;\n    if (!fn) {\n      this._events[eventName] = [];\n    }\n    this._events[eventName] = this._events[eventName].filter(evt => {\n      return evt.fn !== fn;\n    });\n    return this;\n  }\n\n  once(eventName, fn, scope) {\n    const func = () => {\n      fn.call(scope, ...arguments);\n      this.off(eventName, func);\n    };\n    return this.on(eventName, func, scope);\n  }\n}\n","import rome from 'rome';\nimport moment from 'moment';\n\nimport popupTemplate from '../template/datepicker.template.js';\nimport scrimTemplate from '../template/scrim.template.js';\nimport Events from './events';\n\nimport '../scss/material-datetime-picker.scss';\n\nconst prefix = 'c-datepicker';\nconst defaults = () => ({\n  default: moment().startOf('hour'),\n  // allow the user to override all the classes\n  // used for styling the calendar\n  styles: {\n    scrim: 'c-scrim',\n    back: prefix + '__back',\n    container: prefix + '__calendar',\n    date: prefix + '__date',\n    dayBody: prefix + '__days-body',\n    dayBodyElem: prefix + '__day-body',\n    dayConcealed: prefix + '__day--concealed',\n    dayDisabled: prefix + '__day--disabled',\n    dayHead: prefix + '__days-head',\n    dayHeadElem: prefix + '__day-head',\n    dayRow: prefix + '__days-row',\n    dayTable: prefix + '__days',\n    month: prefix + '__month',\n    next: prefix + '__next',\n    positioned: prefix + '--fixed',\n    selectedDay: prefix + '__day--selected',\n    selectedTime: prefix + '__time--selected',\n    time: prefix + '__time',\n    timeList: prefix + '__time-list',\n    timeOption: prefix + '__time-option',\n    clockNum: prefix + '__clock__num'\n  },\n  // format to display in the input, or set on the element\n  format: 'dd/MM/YY',\n  // the container to append the picker\n  container: document.body,\n  // allow any dates\n  dateValidator: undefined\n});\n\nclass DateTimePicker extends Events {\n  constructor(options = {}) {\n    super();\n    const styles = Object.assign(defaults().styles, options.styles);\n    this.options = Object.assign(defaults(), options);\n    this.options.styles = styles;\n    this.value = this.options.default;\n\n    // listen to any event\n    this.on('*', (evtName, evtData) => {\n      if (this.options.el) {\n        // if there is a custom element, fire a real dom\n        // event on that now\n        const event = new CustomEvent(evtName, this, evtData);\n        this.options.el.dispatchEvent(event);\n      }\n    });\n  }\n\n  // intialize the rom calendar with our default date and\n  // style options\n  initializeRome(container, validator) {\n    return rome(container, {\n      styles: this.options.styles,\n      time: false,\n      dateValidator: validator\n    }).on('data', (value) => this.set(value));\n  }\n\n  // called to open the picker\n  open() {\n    const scrimEl = scrimTemplate(this.options);\n    _appendTemplate(document.body, scrimEl);\n    _appendTemplate(this.options.container, popupTemplate());\n    this.pickerEl = this.options.container.querySelector('.' + prefix);\n    this.scrimEl = document.body.querySelector('.' + this.options.styles.scrim);\n    this.amToggleEl = this.$('.c-datepicker__clock--am');\n    this.pmToggleEl = this.$('.c-datepicker__clock--pm');\n\n    this.set(this.value || this.options.default, {\n      silent: true\n    });\n    this.initializeRome(this.$(`.${this.options.styles.container}`), this.options.dateValidator);\n    this._show();\n  }\n\n  close() {\n    this._hide();\n  }\n\n  _hide() {\n    this.pickerEl.classList.remove('open');\n    window.setTimeout(() => {\n      this.options.container.removeChild(this.pickerEl);\n      document.body.removeChild(this.scrimEl);\n      this.trigger('close');\n    }, 200);\n    return this;\n  }\n\n  _show() {\n    this.delegateEvents();\n    // add the animation classes on the next animation tick\n    // so that they actually work\n    window.requestAnimationFrame(() => {\n      this.scrimEl.classList.add(this.options.styles.scrim + '--shown');\n      this.pickerEl.classList.add(prefix + '--open');\n      this.trigger('open');\n    });\n    return this;\n  }\n\n  delegateEvents() {\n    this.$('.js-cancel')\n      .addEventListener('click', () => this.clickCancel(), false);\n    this.$('.js-ok')\n      .addEventListener('click', () => this.clickSubmit(), false);\n\n    this.$(`.${this.options.styles.clockNum}`).forEach(el => {\n      el.addEventListener('click', (e) => this.clickClock(e), false);\n    });\n\n    this.$('.c-datepicker__clock--am')\n      .addEventListener('click', (e) => this.clickAm(e), false);\n    this.$('.c-datepicker__clock--pm')\n      .addEventListener('click', (e) => this.clickPm(e), false);\n\n    return this;\n  }\n\n  clickSubmit() {\n    this.close();\n    this.trigger('submit', this.value, this);\n    return this;\n  }\n\n  clickCancel() {\n    this.close();\n    this.trigger('cancel', this.value, this);\n    return this;\n  }\n\n  clickClock(e) {\n    let number = parseInt(e.currentTarget.getAttribute('data-number'), 10);\n    if (number === 0 && this.meridiem === 'pm') {\n      number = 12;\n    } else if (this.meridiem === 'pm') {\n      number += 12;\n    }\n\n    this.value.hour(number);\n    this.setTime(this.value);\n    return this;\n  }\n\n  clickAm() {\n    if (this.meridiem === 'pm') {\n      this.meridiem = 'am';\n      this.value.hour(this.value.hour() - 12);\n    }\n    this.setTime(this.value);\n    return this;\n  }\n\n  clickPm() {\n    if (this.meridiem === 'am') {\n      this.meridiem = 'pm';\n      this.value.hour(this.value.hour() + 12);\n    }\n    this.setTime(this.value);\n    return this;\n  }\n\n  data(val) {\n    return (val ? this.set(val) : this.value);\n  }\n\n  set(value, opts) {\n    const m = moment(value);\n    // maintain a list of change events to fire all at once later\n    const evts = [];\n    if (!this.value || (this.value && (m.date() !== this.value.date()\n      || m.month() !== this.value.month()\n      || m.year() !== this.value.year()\n    ))) {\n      // if the date has not been set yet, or has changed then set it\n      // and fire a change:date event\n      this.setDate(m);\n      evts.push('change:date');\n    } else {\n      // otherwise just the time is being set\n      // so fire a change:time event\n      this.setTime(m);\n      evts.push('change:time');\n    }\n    if (this.options.el) {\n      // if there is an element to fire events on\n      if (this.options.el.tagName === 'INPUT') {\n        // and it is an input element then set the value\n        this.options.el.value = m.format(this.options.format);\n      } else {\n        // or any other element set a data-value attribute\n        this.options.el.setAttribute('data-value', m.format(this.options.format));\n      }\n    }\n    if (!opts || !opts.silent) {\n      // fire all the events we've collected\n      this.trigger(['change', ...evts].join(' '), this.value, this);\n    }\n  }\n\n  // set the value and header elements to `date`\n  // the calendar will be updated automatically\n  // by rome when clicked\n  setDate(date) {\n    const m = moment(date);\n    const month = m.format('MMM');\n    const day = m.format('Do');\n    const dayOfWeek = m.format('dddd');\n    const year = m.format('YYYY');\n\n    this.$('.js-day').innerText = dayOfWeek;\n    this.$('.js-date-month').innerText = (month + ' ' + year);\n    this.$('.js-date-day').innerText = day;\n    this.value.year(m.year());\n    this.value.month(m.month());\n    this.value.date(m.date());\n    return this;\n  }\n\n  // set the value and header elements to `time`\n  // also update the hands of the clock\n  setTime(time) {\n    const m = moment(time);\n    const hour = m.format('HH');\n    const hourAsInt = parseInt(hour, 10) % 12;\n\n    this.$('.js-date-hours').innerText = hour;\n\n    this.$(`.c-datepicker__clock__hours .${this.options.styles.clockNum}[data-number=\"${hourAsInt}\"]`)\n      .classList.add(`.${this.options.styles.clockNum}--active`);\n    this.value.hours(m.hours());\n    this.meridiem = this.value.format('a');\n\n    if (this.meridiem === 'pm') {\n      this.amToggleEl.removeAttribute('checked');\n      this.pmToggleEl.setAttribute('checked', 'checked');\n      this.amToggleEl.parentElement.classList.remove('c-datepicker__toggle--checked');\n      this.pmToggleEl.parentElement.classList.add('c-datepicker__toggle--checked');\n    } else {\n      this.pmToggleEl.removeAttribute('checked');\n      this.amToggleEl.setAttribute('checked', 'checked');\n      this.pmToggleEl.parentElement.classList.remove('c-datepicker__toggle--checked');\n      this.amToggleEl.parentElement.classList.add('c-datepicker__toggle--checked');\n    }\n    return this;\n  }\n\n  $(selector) {\n    const els = this.pickerEl.querySelectorAll(selector);\n    return els.length > 1 ? [...els] : els[0];\n  }\n}\n\nexport default DateTimePicker;\n\nfunction _appendTemplate(parent, template) {\n  const tempEl = document.createElement('div');\n  tempEl.innerHTML = template.trim();\n  parent.appendChild(tempEl.firstChild);\n  return this;\n}\n"],"names":["styles","scrim","Events","_events","eventName","evtData","split","forEach","evt","fn","call","scope","evtName","push","filter","func","off","on","prefix","defaults","moment","startOf","document","body","undefined","DateTimePicker","options","Object","assign","value","default","el","event","CustomEvent","dispatchEvent","container","validator","rome","set","scrimEl","scrimTemplate","popupTemplate","pickerEl","querySelector","amToggleEl","$","pmToggleEl","initializeRome","dateValidator","_show","_hide","classList","remove","setTimeout","removeChild","trigger","delegateEvents","requestAnimationFrame","add","addEventListener","clickCancel","clickSubmit","clockNum","e","clickClock","clickAm","clickPm","close","number","parseInt","currentTarget","getAttribute","meridiem","hour","setTime","val","opts","m","evts","date","month","year","setDate","tagName","format","setAttribute","silent","join","day","dayOfWeek","innerText","time","hourAsInt","hours","removeAttribute","parentElement","selector","els","querySelectorAll","length","_appendTemplate","parent","template","tempEl","createElement","innerHTML","trim","appendChild","firstChild"],"mappings":"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"}